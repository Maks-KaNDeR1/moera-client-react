import React from 'react';
import { connect } from 'react-redux';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';

import { isAtSettingsPage } from "state/navigation/selectors";
import { goToSettings } from "state/navigation/actions";

const SettingsButton = ({rootLocation, atSettings, goToSettings}) => (
    atSettings ?
        <span className="connection-button active"><FontAwesomeIcon icon="cog"/></span>
    :
        <a href={rootLocation + "/settings"} className="connection-button" onClick={event => {
            goToSettings();
            event.preventDefault();
        }}><FontAwesomeIcon icon="cog"/></a>
);

export default connect(
    state => ({
        rootLocation: state.node.root.location,
        atSettings: isAtSettingsPage(state),
    }),
    { goToSettings }
)(SettingsButton);

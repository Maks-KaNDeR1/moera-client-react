import React from 'react';
import { connect } from 'react-redux';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';

import { isAtSettingsPage } from "state/navigation/selectors";
import { goToSettingsWithDefaultSubpage } from "state/navigation/actions";

const SettingsButton = ({rootLocation, atSettings, goToSettingsWithDefaultSubpage}) => (
    atSettings ?
        <span className="connection-button active" title="Settings"><FontAwesomeIcon icon="cog"/></span>
    :
        <a href={rootLocation + "/settings"}
           className="connection-button"
           title="Settings"
           onClick={event => {
              goToSettingsWithDefaultSubpage();
              event.preventDefault();
        }}><FontAwesomeIcon icon="cog"/></a>
);

export default connect(
    state => ({
        rootLocation: state.node.root.location,
        atSettings: isAtSettingsPage(state),
    }),
    { goToSettingsWithDefaultSubpage }
)(SettingsButton);

import React from 'react';
import { connect } from 'react-redux';
import moment from 'moment';

import { Button } from "ui/control";
import { goToTimeline } from "state/navigation/actions";
import PostingUpdated from "ui/posting/PostingUpdated";

const DetailedPosting = ({posting, goToTimeline}) => (
    <>
        <Button variant="outline-secondary" size="sm"
                onClick={e => goToTimeline(posting.moment)}>&larr; Timeline</Button>

        <div className="posting">
            <span className="date">
                {moment.unix(posting.publishedAt).format("DD-MM-YYYY HH:mm")}
            </span>
            <PostingUpdated posting={posting} />
            <div className="content" dangerouslySetInnerHTML={{__html: posting.bodyHtml}} />
        </div>
    </>
);

export default connect(
    null,
    { goToTimeline }
)(DetailedPosting);

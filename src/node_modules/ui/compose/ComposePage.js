import React from 'react';
import { Form, withFormik } from 'formik';
import * as yup from 'yup';

import { Page } from "ui/page/Page";
import { Button, TextField } from "ui/control";

const ComposePage = () => (
    <Page>
        <h2>New Post</h2>
        <br />
        <Form>
            <TextField name="body" anyValue autoFocus />
            <Button variant="primary" block type="submit">Post</Button>
        </Form>
    </Page>
);

const composePageLogic = {

    mapPropsToValues(props) {
        return {
            body: props.body || ""
        }
    },

    validationSchema: yup.object().shape({
        body: yup.string().trim().required("Must not be empty")
    }),

    handleSubmit(values, formik) {
        formik.setSubmitting(false);
    }

};

export default withFormik(composePageLogic)(ComposePage);

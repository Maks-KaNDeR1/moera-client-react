import schema from "api/schema";

const ProfileUpdatedEvent = {
    type: "object",
    properties: {
        "type": {
            type: "string",
            const: "PROFILE_UPDATED"
        }
    },
    additionalProperties: false,
    required: ["type"]
};

const Event = {
    anyOf: [
        ProfileUpdatedEvent
    ]
};

export const EventPacket = schema({
    type: "object",
    properties: {
        "queueStartedAt": {
            type: "integer"
        },
        "ordinal": {
            type: "integer"
        },
        "sentAt": {
            type: "integer"
        },
        "cid": {
            type: "string"
        },
        "event": Event
    },
    additionalProperties: false,
    required: ["queueStartedAt", "ordinal", "event"]
});

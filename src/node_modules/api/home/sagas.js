import { call } from 'redux-saga/effects';

import { NodeApi, Node } from "api/node";

function* callHome(options) {
    return yield call(Node.callApi, {
        ...options,
        rootApiSelector: state => state.home.root.api,
        errorTitle: "Home access error"
    });
}

export function* getWhoAmI() {
    return yield call(callHome, {location: "/whoami", schema: NodeApi.WhoAmI});
}

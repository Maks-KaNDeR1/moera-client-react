import moment from 'moment';

import { isRegisteredNameOperationFinished } from "state/registeredname/selectors";

export function isOwnerNameSet(state) {
    return state.owner.name != null;
}

export function isOwnerNameRecentlyChanged(state) {
    return isOwnerNameSet(state) && isRegisteredNameOperationFinished(state)
        && state.owner.verifiedAt < state.registeredName.operationStatusUpdated;
}

export function isOwnerNameExpiring(state) {
    return state.owner.verified && state.owner.correct && state.owner.deadline != null
        && moment().isSameOrAfter(moment.unix(state.owner.deadline).subtract(30, "days"));
}

export function isOwnerNameExpired(state) {
    return state.owner.verified && state.owner.correct && state.owner.deadline != null
        && moment().isSameOrAfter(moment.unix(state.owner.deadline));
}

import { trigger } from "state/trigger";
import { INIT_FROM_LOCATION, updateLocation } from "state/navigation/actions";
import { OWNER_SET, ownerLoad, ownerVerify } from "state/owner/actions";
import { REGISTER_NAME_SUCCEEDED, REGISTERED_NAME_SET } from "state/registeredname/actions";
import { PULSE_6H } from "state/pulse/actions";
import { isOwnerNameRecentlyChanged, isOwnerNameSet } from "state/owner/selectors";

export default [
    trigger(INIT_FROM_LOCATION, true, ownerLoad),
    trigger(OWNER_SET, isOwnerNameSet, ownerVerify),
    trigger(OWNER_SET, true, updateLocation),
    trigger(REGISTERED_NAME_SET, isOwnerNameRecentlyChanged, ownerVerify),
    trigger(REGISTER_NAME_SUCCEEDED, true, ownerLoad),
    trigger(PULSE_6H, isOwnerNameSet, ownerVerify)
]

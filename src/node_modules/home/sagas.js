import { call } from 'redux-saga/effects';

import { HomeError } from "error";
import { callNodeGeneric } from "node/sagas";
import * as NodeApi from "node/api";

function* callHome(location, schema = null) {
    return yield call(callNodeGeneric, location, schema, state => state.home.root.api, HomeError);
}

export function* getWhoAmI() {
    return yield call(callHome, "/whoami", NodeApi.WhoAmI);
}

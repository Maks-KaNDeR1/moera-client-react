import React, { Component } from 'react';
import { connect } from 'react-redux';

import { Page } from "page/Page";

const RegisteredName = ({name, generation}) => {
    if (name) {
        return (
            <>
                {name}
                <sub>{generation != null ? (<small>{generation}</small>) : (<small>?</small>)}</sub>
            </>
        );
    } else {
        return null;
    }
};

const ProfileLine = ({title, children, visible = true}) => {
    if (visible) {
        return (
            <>
                <dt className="col-sm-3">{title}</dt>
                <dd className="col-sm-9">{children}</dd>
            </>
        );
    } else {
        return null;
    }
};

class Profile extends Component {

    render() {
        return (
            <Page>
                <h2>Profile</h2>
                <dl className="row">
                    <ProfileLine title="Registered name">
                        <RegisteredName name={this.props.registeredName}
                                        generation={this.props.registeredNameGeneration}/>
                    </ProfileLine>
                    <ProfileLine title="Full name" visible={this.props.fullName}>
                        {this.props.fullName}
                    </ProfileLine>
                    <ProfileLine title="Gender" visible={this.props.gender}>
                        {this.props.gender}
                    </ProfileLine>
                </dl>
            </Page>
        );
    }

}

export default connect(
    (state) => state.profile,
)(Profile);